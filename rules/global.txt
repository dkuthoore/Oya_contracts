These are the global rules of the Oya protocol.

1. **Supported Tokens and Actions:**  
   - Only ERC20 and ERC721 tokens are supported. Tokens deposited by mistake that are unsupported may be withdrawn by the original depositor.
   - The supported actions on the Oya blockchain are deposit, withdraw, and transfer.

2. **Vault Initialization and Block Production:**  
   - After a vault is created, a signed intention from the vault’s controller address—if included in a block by any block proposer—may set additional parameters for the vault.
   - The first block proposer to submit a signed message from the controller address for a vault will be designated as that vault’s initial block producer.

3. **Block Proposer Assignment:**  
   - Each vault may have only one block proposer at a time.
   - A block proposer can be changed either via a signed intention included in a block or by a transaction directly from the vault’s controller address.
   - Any change in block proposers must be subject to a minimum delay of 30 minutes, as recorded in the event logs.

4. **Vault Balances and Transfers:**  
   - Vault balances can increase via deposits or transfers, and decrease via withdrawals or transfers.
   - A transfer recorded on the Oya blockchain is verified by the optimistic oracle. This process does not require an actual movement of tokens within the VaultTracker contract or any on-chain state change on the host blockchain.
   - The vault must maintain a sufficient balance of a token when executing a withdrawal or transfer, as determined by the state changes on the Oya blockchain.

5. **Block Finality and Disputes:**  
   - Proposed state changes in a block are considered valid unless a dispute is raised during the optimistic oracle’s challenge period.
   - If a block is disputed, it is discarded, and any valid state changes must be re-proposed in a new block.
   - In the case where new blocks were built on top of a disputed block, any valid state changes contained therein must also be re-proposed.
   - A replacement block must include all valid state changes from the disputed block; omission of any valid changes will render the replacement block invalid.

6. **Nonce Management:**  
   - Every signed intention for a vault must have incrementing nonces (0, 1, 2, …, n), with each new intention’s nonce exactly one unit higher than the previous.
   - Each block produced by a particular block proposer must also have incrementing nonces, with the replacement block using the same nonce as any disputed block.

7. **Amendments to Global Rules:**  
   - Changes to the global rules require protocol governance approval and must be subject to a time delay before becoming effective.
   - New features for the Oya blockchain may be implemented through amendments to the global rules.

8. **Compliance with Vault-Specific Rules:**  
   - Every signed intention for a vault must adhere to that vault’s individual rules; otherwise, it shall be considered invalid.
